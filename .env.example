# .env.example
# Environment variables template for FibroMAP Railway server
# Copy this file to .env and fill in your actual values

# ================================
# REQUIRED - Database Configuration
# ================================
# PostgreSQL connection string (Railway provides this automatically)
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/fibromap

# ================================
# REQUIRED - Flask Configuration
# ================================
# Secret key for Flask sessions (generate a secure random string)
FLASK_SECRET_KEY=your-super-secret-key-change-this-in-production

# Flask environment (development, staging, production)
FLASK_ENV=development

# ================================
# REQUIRED - AWS Configuration
# ================================
# AWS credentials for the permanent IAM user that creates temporary credentials
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_DEFAULT_REGION=us-east-1

# S3 bucket names
FIBROMAP_S3_BUCKET=your-fibromap-data
FIBROMAP_IMAGES_BUCKET=company-microscopy-images

# IAM role ARNs for temporary credential generation (set up later)
AWS_DATA_ROLE_ARN=arn:aws:iam::your-account:role/FibroMapDataAccess
AWS_IMAGES_ROLE_ARN=arn:aws:iam::your-account:role/FibroMapImagesAccess

# ================================
# SECURITY - Authentication Settings
# ================================
# Session timeout in hours (how long users stay logged in)
SESSION_TIMEOUT_HOURS=8

# Remember me duration in days (for "remember me" checkbox)
REMEMBER_ME_DAYS=30

# Password requirements
PASSWORD_MIN_LENGTH=8

# Account lockout settings
MAX_FAILED_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# Password hashing rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# ================================
# S3 CREDENTIALS
# ================================
# How long temporary S3 credentials last (in hours)
S3_CREDENTIAL_DURATION_HOURS=1

# ================================
# SECURITY - Session Settings
# ================================
# Whether to bind sessions to IP addresses (true/false)
SESSION_BIND_IP=false

# Whether to update session activity on each request (true/false)
UPDATE_SESSION_ACTIVITY=true

# ================================
# CORS - Cross-Origin Requests
# ================================
# Comma-separated list of allowed origins for CORS
# Use * for development, specific domains for production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ================================
# INTERNAL - Cleanup & Maintenance
# ================================
# Token for internal cleanup endpoints (generate a secure random string)
INTERNAL_CLEANUP_TOKEN=your-internal-cleanup-token

# ================================
# OPTIONAL - Performance Settings
# ================================
# Server port (Railway sets this automatically)
PORT=5000

# ================================
# DEVELOPMENT ONLY
# ================================
# These are only used for local development
# Railway will override these in production

# Local PostgreSQL settings (if running locally)
POSTGRES_USER=fibromap_user
POSTGRES_PASSWORD=your-local-db-password
POSTGRES_DB=fibromap
POSTGRES_HOST=localhost
POSTGRES_PORT=5432